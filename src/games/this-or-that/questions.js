// src/games/this-or-that/questions.js

export const QUESTIONS = [
  { id: 1, optionA: "Methodical Coffee", optionB: "Rowan Coffee", answer: "B" },
  { id: 2, optionA: "Clash Royale", optionB: "Overwatch", answer: "A" },
  { id: 4, optionA: "Apple Bold Rock", optionB: "Mimosa Bold Rock", answer: "A" },
  { id: 5, optionA: "Dr Pepper", optionB: "Coke", answer: "B" },
  { id: 6, optionA: "Krusty", optionB: "Ned", answer: "B" },
  { id: 7, optionA: "Robots", optionB: "Hoodwinked", answer: "A" },
  { id: 8, optionA: "WW2", optionB: "Vietnam", answer: "B" },
  { id: 9, optionA: "Oil", optionB: "Acrylic", answer: "A" },
  { id: 10, optionA: "Pearl Jam", optionB: "Alice in Chains", answer: "A" },
  { id: 11, optionA: "Sophomore Year High School", optionB: "Sophomore Year College", answer: "A" },
  { id: 12, optionA: "Calculus", optionB: "Statistics", answer: "A" },
  { id: 13, optionA: "George Bush", optionB: "Bill Clinton", answer: "A" },
  { id: 14, optionA: "Quiche", optionB: "Roast", answer: "A" },
  { id: 15, optionA: "Japan", optionB: "Greece", answer: "A" },
  { id: 16, optionA: "100 Spiders", optionB: "20 Squirrels", answer: "A" },
  { id: 17, optionA: "Unlimited Games & Bacon", optionB: "No Games", answer: "A" },
  { id: 18, optionA: "Minecraft Cottage", optionB: "Minecraft Castle", answer: "A" },
  { id: 20, optionA: "Checkerboard Flooring", optionB: "Carpet", answer: "A" },
  { id: 21, optionA: "Sci-Fi", optionB: "Westerns", answer: "A" },
  { id: 22, optionA: "Sunny", optionB: "Partly Cloudy", answer: "B" },
  { id: 23, optionA: "Spring", optionB: "Summer", answer: "A" },
  { id: 24, optionA: "Big Black Puffer", optionB: "Fake Leather", answer: "A" },
  { id: 25, optionA: "Whole Number", optionB: "Decimal Numbers", answer: "B" },
  { id: 26, optionA: "Butt Rash", optionB: "Butt Cuts", answer: "B" },
  { id: 27, optionA: "Queen", optionB: "Michael Jackson", answer: "B" },
  { id: 28, optionA: "Peak Scythe", optionB: "Peak Poker", answer: "A" },
  { id: 29, optionA: "Bench Press", optionB: "Deadlift", answer: "A" },
  { id: 30, optionA: "Chicken Pot Pie", optionB: "Hamburger", answer: "A" },
  { id: 31, optionA: "Cadbury Egg", optionB: "Chocolate Chip Cookie", answer: "B" },
  { id: 32, optionA: "Fame", optionB: "Money", answer: "B" },
  { id: 33, optionA: "Matcha", optionB: "Iced Americano", answer: "B" },
  { id: 35, optionA: "Leather", optionB: "Velvet", answer: "A" },

  { id: 36, optionA: "Morning Person", optionB: "Night Owl", answer: "B" },
  { id: 37, optionA: "Beach Vacation", optionB: "Snowy Mountains", answer: "A" },
  { id: 38, optionA: "Pizza", optionB: "Tacos", answer: "A" },
  { id: 39, optionA: "Voice Messages", optionB: "Calling", answer: "B" },
  { id: 40, optionA: "Biking", optionB: "Swimming", answer: "B" },
  { id: 41, optionA: "Sweet", optionB: "Savory", answer: "A" },
  { id: 42, optionA: "Stubbed Toe", optionB: "Pinched Finger", answer: "B" },
  { id: 43, optionA: "Mixed Drink", optionB: "Shots", answer: "A" },
  { id: 44, optionA: "Disney", optionB: "Universal", answer: "B" },
  { id: 45, optionA: "In Rainbows", optionB: "Kid A", answer: "B" },
  { id: 46, optionA: "Family Guy", optionB: "Rick and Morty", answer: "A" },
  { id: 47, optionA: "Cruise", optionB: "Train", answer: "B" },
  { id: 48, optionA: "Board Games", optionB: "Video Games", answer: "A" },
  { id: 49, optionA: "Sabrina Carpenter", optionB: "Billie Eilish", answer: "A" },
  { id: 50, optionA: "Wutang Clan", optionB: "A Tribe Called Quest", answer: "A" },

  { id: 51, optionA: "Rainy Days", optionB: "Snowy Days", answer: "B" },
  { id: 52, optionA: "Pancakes", optionB: "Waffles", answer: "B" },
  { id: 53, optionA: "Chocolate", optionB: "Vanilla", answer: "A" },
  { id: 54, optionA: "Instagram Reels", optionB: "Youtube Shorts", answer: "B" },
  { id: 56, optionA: "Stanley Kubrick", optionB: "Francis Ford Coppola", answer: "B" },
  { id: 57, optionA: "Ryan Gosling", optionB: "Harrison Ford", answer: "A" },
  { id: 58, optionA: "Bowling", optionB: "Mini Golf", answer: "A" },
  { id: 59, optionA: "Physical Books", optionB: "Audiobooks", answer: "B" },
  { id: 60, optionA: "Southern Food", optionB: "Mexican Food", answer: "A" },

  { id: 61, optionA: "Fried Eggs", optionB: "Scrambled Eggs", answer: "B" },
  { id: 62, optionA: "Driving Leisurely", optionB: "Speeding", answer: "A" },
  { id: 63, optionA: "Gold Jewelry", optionB: "Silver Jewelry", answer: "A" },
  { id: 64, optionA: "Tom Brady", optionB: "Lebron James", answer: "A" },
  { id: 65, optionA: "Connecticut", optionB: "Oregon", answer: "A" },
  { id: 66, optionA: "Window Seat", optionB: "Aisle Seat", answer: "B" },
  { id: 67, optionA: "Light Roast", optionB: "Medium Roast", answer: "A" },
  { id: 68, optionA: "Monopoly", optionB: "Sequence", answer: "B" },
  { id: 69, optionA: "Painting", optionB: "Sketching", answer: "A" },
  { id: 70, optionA: "Einstein", optionB: "Newton", answer: "B" },

  { id: 71, optionA: "Burritos", optionB: "Bowls", answer: "B" },
  { id: 72, optionA: "Walton Goggins", optionB: "Christoph Waltz", answer: "B" },
  { id: 73, optionA: "Christopher Nolan", optionB: "Quentin Tarantino", answer: "B" },
  { id: 74, optionA: "Geometry", optionB: "Algebra", answer: "B" },
  { id: 75, optionA: "Caleb Hearon", optionB: "Theo Von", answer: "A" },
  { id: 76, optionA: "Silent Sleep", optionB: "Box Fan Sleep", answer: "A" },
  { id: 77, optionA: "Randy Marsh", optionB: "Eric Cartman", answer: "A" },
  { id: 78, optionA: "Pen", optionB: "Pencil", answer: "A" },
  { id: 79, optionA: "The Beatles", optionB: "The Rolling Stones", answer: "A" },
  { id: 80, optionA: "OJ", optionB: "Diddy", answer: "B" },

  { id: 81, optionA: "Piano", optionB: "Saxophone", answer: "A" },
  { id: 82, optionA: "Rick", optionB: "Morty", answer: "A" },
  { id: 83, optionA: "Bird As A Pet", optionB: "Turtle As A Pet", answer: "B" },
  { id: 84, optionA: "Flying", optionB: "Driving", answer: "B" },
  { id: 85, optionA: "Sweet", optionB: "Salty", answer: "A" },
  { id: 86, optionA: "Gregg Turkington", optionB: "Tim Heidecker", answer: "A" },
  { id: 87, optionA: "Elves", optionB: "Dwarves", answer: "B" },
  { id: 88, optionA: "Its Always Sunny In Philadelphia", optionB: "Seinfeld", answer: "A" },
  { id: 89, optionA: "King Kong", optionB: "Godzilla", answer: "A" },
  { id: 90, optionA: "Ping Pong", optionB: "Pool", answer: "B" },

  { id: 91, optionA: "D-Day", optionB: "Bin Laden Raid", answer: "B" },
  { id: 92, optionA: "Fight A Leopard Seal", optionB: "Fight A Lion", answer: "B" },
  { id: 93, optionA: "Aura", optionB: "Clout", answer: "A" },
  { id: 94, optionA: "Poop", optionB: "Crap", answer: "B" },
  { id: 95, optionA: "Plus 10 IQ Points", optionB: "Plus 2 Inches Of Height", answer: "A" },
  { id: 96, optionA: "Skin Turns Green", optionB: "Defy Gravity", answer: "B" },
  { id: 97, optionA: "Salami", optionB: "Pepperoni", answer: "A" },
  { id: 98, optionA: "Half Of Population Turns To Dust", optionB: "Extinction From Lack Of Resources", answer: "B" },
  { id: 99, optionA: "The Shire", optionB: "Diagon Alley", answer: "B" },
  { id: 100, optionA: "There Are More Doors In The World", optionB: "There Are More Wheels In The World", answer: "A" },

  { id: 101, optionA: "Climb Trees Faster Than A Monkey", optionB: "Swim Faster Than An Alligator", answer: "B" },
  { id: 102, optionA: "Tilted Towers", optionB: "Retail Row", answer: "B" },
  { id: 103, optionA: "Cirrus", optionB: "Cumulus", answer: "A" },
  { id: 104, optionA: "Rewatch", optionB: "Watch Something New", answer: "A" },
  { id: 105, optionA: "Be President", optionB: "Be The Richest Man Alive", answer: "A" },
];

// Get 5 random questions for the day (seeded by date to be consistent)
export function getDailyQuestions() {
  const today = new Date().toDateString();
  const saved = localStorage.getItem('thisOrThat_daily');
  
  if (saved) {
    const data = JSON.parse(saved);
    if (data.date === today) {
      return data.questions;
    }
  }
  
  // Generate new daily questions
  const seenQuestions = getSeenQuestions();
  let availableQuestions = QUESTIONS.filter(q => !seenQuestions.includes(q.id));
  
  // If we've seen all questions, reset
  if (availableQuestions.length < 5) {
    resetSeenQuestions();
    availableQuestions = [...QUESTIONS];
  }
  
  // Shuffle and pick 5
  const shuffled = availableQuestions.sort(() => Math.random() - 0.5);
  const dailyQuestions = shuffled.slice(0, 5);
  
  // Mark these as seen
  markQuestionsAsSeen(dailyQuestions.map(q => q.id));
  
  // Save for today
  localStorage.setItem('thisOrThat_daily', JSON.stringify({
    date: today,
    questions: dailyQuestions
  }));
  
  return dailyQuestions;
}

function getSeenQuestions() {
  const saved = localStorage.getItem('thisOrThat_seen');
  return saved ? JSON.parse(saved) : [];
}

function markQuestionsAsSeen(questionIds) {
  const seen = getSeenQuestions();
  const updated = [...new Set([...seen, ...questionIds])];
  localStorage.setItem('thisOrThat_seen', JSON.stringify(updated));
}

function resetSeenQuestions() {
  localStorage.setItem('thisOrThat_seen', JSON.stringify([]));
}